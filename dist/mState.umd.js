!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("mithril")):"function"==typeof define&&define.amd?define(["exports","mithril"],t):t(n.mState={},n.m)}(this,function(n,i){"use strict";i=i&&i.hasOwnProperty("default")?i.default:i;var u={},o={},c={},e=function(t,n){return u[t]=n,{withActions:function(n){c[t]=n}}};n.makeState=function(r,n){var t=new Proxy(n,{get:function(n,t){return n[t]},set:function(n,t,e){return n[t]!==e&&(n[t]=e,o[r]&&o[r].forEach(function(n){return n(t,e)})),!0}});return e(r,t)},n.callAction=function(n,t,e){c[n][t](u[n],e)},n.inject=function(t,n){var r=null;return{oninit:function(){r=n.reduce(function(n,e){return n[e]=u[e],n[e]&&(n[e]._call=function(n,t){return c[e][n](u[e],t)}),n},{}),n.map(function(e){var n,t;t=function(n,t){r[e][n]=t,i.redraw()},(o[n=e]=o[n]||[]).push(t)})},view:function(n){return r=Object.assign({},n.attrs,r),i(t,r)}}},Object.defineProperty(n,"__esModule",{value:!0})});
